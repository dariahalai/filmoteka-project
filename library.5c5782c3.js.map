{"mappings":"gfAEAA,EAAA,S,WCEO,IAAMC,EAAgBC,SAASC,cACpC,+BAQF,SAASC,IAEPH,EAAcI,UAAUC,IAAI,0BAC5BC,EAAeF,UAAUG,OAAO,0BAEhC,IACE,IAAIC,EAAaC,aAAaC,QAAQ,eAClCF,IAGFG,EAFAH,EAAaI,KAAKC,MAAML,IAIxBM,EAAUV,UAAUC,IAAI,a,CAE1B,MAAOU,GACPC,QAAQC,IAAIF,E,EAnBhBG,OAAOC,iBAAiB,QAAQ,W,OAAMhB,G,IAEtCH,EAAcmB,iBAAiB,QAAShB,G,iBCL3BG,EAAiBL,SAASC,cACrC,iCAEWY,EAAYb,SAASC,cAAc,yBACnCkB,EAAiBnB,SAASC,cACrC,gCAwBK,SAASS,EAAuBU,GACrC,IAAMC,EAASD,EACZE,KAAI,SAAAC,G,IAAGC,EAAED,EAAFC,GAAIC,EAAWF,EAAXE,YAAaC,EAASH,EAATG,UAAWC,EAAKJ,EAALI,MAAOC,EAAYL,EAAZK,aACrCC,GAAY,EAAAC,EAAAC,UAASL,GACrBM,EAAOJ,EAAaK,UAAU,EAAG,GACjCJ,GAAaG,IAAMH,GAAa,OAC/BF,IAAOA,EAAQ,kBAEpB,IAAIO,EAAaT,EACbU,kCAAwBV,EACxBW,SAEJ,MAAO,oKAMQC,OADAH,EAAS,0BAEVG,OADCV,EAAM,yBAGoBU,OAF3Bb,EAAG,oEAGmBa,OADKV,EAAM,mDACCU,OAAZR,GAAiBQ,OAALL,EAAK,4C,IAKtDM,KAAK,IAERnB,EAAeoB,UAAYlB,C,CAlD7BhB,EAAea,iBAAiB,SAEhC,WACEnB,EAAcI,UAAUG,OAAO,0BAC/BD,EAAeF,UAAUC,IAAI,0BAC7B,IACE,IAAIoC,EAAehC,aAAaC,QAAQ,iBACpC+B,IAGF9B,EAFA8B,EAAe7B,KAAKC,MAAM4B,IAI1B3B,EAAUV,UAAUC,IAAI,a,CAE1B,MAAOU,GACPC,QAAQC,IAAIF,E,CAGd,M,IAmCFC,QAAQC,IAAIR,aAAaC,QAAQ,kBAsBjCM,QAAQC,IApBR,WAEE,IACE,IAAII,EAAOZ,aAAaC,QAAQ,iBAChC,GAAIW,EAAM,CACRA,EAAOT,KAAKC,MAAMQ,GAGlB,IAFA,IAAIqB,EAAI,EACFC,EAAa,GACZD,EAAIrB,EAAKuB,QACdD,EAAWE,KAAKxB,EAAKyB,MAAMJ,EARnB,EAQ8BA,IACtCA,GATQ,EAYV,OAAOC,C,EAET,MAAO5B,GACPC,QAAQC,IAAIF,E,EAIJgC,I","sources":["src/library.js","src/js/queue.js","src/js/watched.js"],"sourcesContent":["\n\nimport './js/modal-team';\nimport './js/btn-scroll';\nimport './js/watched';\nimport './js/queue';\nimport \"./js/local-storage-set\";\nimport './js/open-model';","import { emptyRefs, btnWatchedRefs } from './watched';\n\nimport { renderWatchedFilmCards } from './watched';\n\nexport const btnQueuedRefs = document.querySelector(\n  'button[data-action=\"queue\"]'\n);\n\n\nwindow.addEventListener('load', () => onBtnQueueClick());\n\nbtnQueuedRefs.addEventListener('click', onBtnQueueClick);\n\nfunction onBtnQueueClick() {\n  \n  btnQueuedRefs.classList.add('filter__button--active');\n  btnWatchedRefs.classList.remove('filter__button--active');\n\n  try {\n    let queueFilms = localStorage.getItem('QueueMovies');\n    if (queueFilms) {\n      queueFilms = JSON.parse(queueFilms);\n\n      renderWatchedFilmCards(queueFilms);\n\n      emptyRefs.classList.add('is-hidden');\n    }\n  } catch (error) {\n    console.log(error);\n  }\n\n  return;\n}\n\n","import { btnQueuedRefs } from './queue.js';\nimport { getGenre } from './modal-film.js';\n\nconst IMG_PATH = 'https://image.tmdb.org/t/p/';\nconst SMALL_SIZE = 'w500';\n\nexport const btnWatchedRefs = document.querySelector(\n  'button[data-action=\"watched\"]'\n);\nexport const emptyRefs = document.querySelector('[data-action=\"empty\"]');\nexport const galleryLibrary = document.querySelector(\n  '[data-action=\"list-library\"]'\n);\n\nbtnWatchedRefs.addEventListener('click', onBtnWatchedClick);\n\nfunction onBtnWatchedClick() {\n  btnQueuedRefs.classList.remove('filter__button--active');\n  btnWatchedRefs.classList.add('filter__button--active');\n  try {\n    let watchedFilms = localStorage.getItem('WatchedMovies');\n    if (watchedFilms) {\n      watchedFilms = JSON.parse(watchedFilms);\n\n      renderWatchedFilmCards(watchedFilms);\n\n      emptyRefs.classList.add('is-hidden');\n    }\n  } catch (error) {\n    console.log(error);\n  }\n\n  return;\n}\n\nexport function renderWatchedFilmCards(data) {\n  const markup = data\n    .map(({ id, poster_path, genre_ids, title, release_date }) => {\n      let genresStr = getGenre(genre_ids);\n      let year = release_date.substring(0, 4);\n      if (genresStr && year) genresStr += ' | ';\n      if (!title) title = 'no information';\n\n      let smallImg = !!poster_path\n        ? IMG_PATH + SMALL_SIZE + poster_path\n        : NO_IMAGE;\n\n      return `\n      <li class=\"film-card\">\n         \t<a href=\"#\" class=\"film-card__link\">\n            <img\n              class=\"film-card__film-img\"\n              src=\"${smallImg}\"\n              alt=\"${title}\"\n              id=\"${id}\"\n            />\n            <h3 class=\"film-card__film-name\">${title}</h3>\n            <p class=\"film-card__genre\">${genresStr}${year}</p>\n          </a>\n        </li>\n\t\t`;\n    })\n    .join('');\n\n  galleryLibrary.innerHTML = markup;\n}\n\nconsole.log(localStorage.getItem('WatchedMovies'));\n\nfunction chunkWatchedFilms() {\n  const chunk = 2;\n  try {\n    let data = localStorage.getItem('WatchedMovies');\n    if (data) {\n      data = JSON.parse(data);\n      let i = 0;\n      const updateData = [];\n      while (i < data.length) {\n        updateData.push(data.slice(i, chunk + i));\n        i += chunk;\n        \n      }\n      return updateData;\n    }\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nconsole.log(chunkWatchedFilms());\n"],"names":["parcelRequire","$e45a8be9cfe57eeb$export$2e233108b4c37bf0","document","querySelector","$e45a8be9cfe57eeb$var$onBtnQueueClick","classList","add","$a215baf1061f969f$export$8e7999df18b0696e","remove","queueFilms","localStorage","getItem","$a215baf1061f969f$export$1e847d4efb28c937","JSON","parse","$a215baf1061f969f$export$f345d6e579d6ff19","error","console","log","window","addEventListener","$a215baf1061f969f$export$bcd4d5f228010f5d","data","markup","map","param","id","poster_path","genre_ids","title","release_date","genresStr","$73ES2","getGenre","year","substring","smallImg","$a215baf1061f969f$var$IMG_PATH","NO_IMAGE","concat","join","innerHTML","watchedFilms","i","updateData","length","push","slice","$a215baf1061f969f$var$chunkWatchedFilms"],"version":3,"file":"library.5c5782c3.js.map"}