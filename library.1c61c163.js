var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},i=e.parcelRequired7c6;null==i&&((i=function(e){if(e in t)return t[e].exports;if(e in n){var i=n[e];delete n[e];var o={id:e,exports:{}};return t[e]=o,i.call(o.exports,o,o.exports),o.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){n[e]=t},e.parcelRequired7c6=i),i("7bYU0"),i("jLhJV");const o=document.querySelector('button[data-action="queue"]');function r(){o.classList.add("filter__button--active"),c.classList.remove("filter__button--active");try{let e=localStorage.getItem("QueueMovies");e&&(e=JSON.parse(e),s(e),l.classList.add("is-hidden"))}catch(e){console.log(e)}}window.addEventListener("load",(()=>r())),o.addEventListener("click",r);var a=i("fQE3M");const c=document.querySelector('button[data-action="watched"]'),l=document.querySelector('[data-action="empty"]'),d=document.querySelector('[data-action="list-library"]');function s(e){const t=e.map((({id:e,poster_path:t,genre_ids:n,title:i,release_date:o})=>{let r=(0,a.getGenre)(n),c=o.substring(0,4);return r&&c&&(r+=" | "),i||(i="no information"),`\n      <li class="film-card">\n         \t<a href="#" class="film-card__link">\n            <img\n              class="film-card__film-img"\n              src="${t?"https://image.tmdb.org/t/p/w500"+t:NO_IMAGE}"\n              alt="${i}"\n              id="${e}"\n            />\n            <h3 class="film-card__film-name">${i}</h3>\n            <p class="film-card__genre">${r}${c}</p>\n          </a>\n        </li>\n\t\t`})).join("");d.innerHTML=t}c.addEventListener("click",(function(){o.classList.remove("filter__button--active"),c.classList.add("filter__button--active");try{let e=localStorage.getItem("WatchedMovies");e&&(e=JSON.parse(e),s(e),l.classList.add("is-hidden"))}catch(e){console.log(e)}return})),i("9dykO");var u=i("b5rV1");a=i("fQE3M");const f={gallery:document.querySelector(".js-gallery"),closeBtn:document.querySelector("[data-modal-close]"),activLibraryBtn:document.querySelector(".filter__item>.filter__button--active")},m=new(0,a.default);function v(){m.close(),f.closeBtn.removeEventListener("click",v),window.removeEventListener("keydown",g)}function g(e){"Escape"===e.code&&(m.close(),f.closeBtn.removeEventListener("click",v),window.removeEventListener("keydown",g))}f.gallery.addEventListener("click",(function(e){if(e.preventDefault(),"IMG"!==e.target.nodeName)return;const t=(n=e.target.id,("Queue"===f.activLibraryBtn.textContent?u.load("QueueMovies"):u.load("WatchedMovies")).find((e=>e.id===Number(n))));var n;m.modifyDataFilm(t),m.open(),f.closeBtn.addEventListener("click",v),window.addEventListener("keydown",g)})),f.closeBtn.addEventListener("click",v),window.addEventListener("keydown",g),document.addEventListener("click",(function(e){!e.target.closest(".modal")&&e.target.closest(".backdrop")&&v()}));
//# sourceMappingURL=library.1c61c163.js.map
