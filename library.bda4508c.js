!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},a=e.parcelRequired7c6;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in n){var a=n[e];delete n[e];var i={id:e,exports:{}};return t[e]=i,a.call(i.exports,i,i.exports),i.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){n[e]=t},e.parcelRequired7c6=a),a("aZhHc"),a("d7VxN");var i=a("73ES2"),r=a("jcFG7"),o=(document.querySelector(".js-pagination"),document.querySelector('button[data-action="queue"]'));function c(){o.classList.add("filter__button--active"),u.classList.remove("filter__button--active");!function(e){var t=l();[e].map((function(e){var t=e.id,n=e.poster_path,a=e.genre_ids,r=e.title,o=e.release_date,c=(0,i.getGenre)(a),l=o.substring(0,4);c&&l&&(c+=" | "),r||(r="no information");var u=n?d+s+n:NO_IMAGE;return'\n     <li class="film-card">\n          <a href="#" class="film-card__link">\n           <img\n             class="film-card__film-img"\n             src="'.concat(u,'"\n             alt="').concat(r,'"\n             id="').concat(t,'"\n           />\n           <h3 class="film-card__film-name">').concat(r,'</h3>\n           <p class="film-card__genre">').concat(c).concat(l,"</p>\n         </a>\n       </li>\n   ")})).join(""),v.innerHTML=t}(1),f.classList.add("is-hidden"),(0,r.renderPagination)()}function l(){try{var e=localStorage.getItem("QueueMovies");if(e){e=JSON.parse(e);for(var t=0,n=[];t<e.length;)n.push(e.slice(t,20+t)),t+=20;return n}}catch(e){console.log(e)}}window.addEventListener("load",(function(){return c()})),o.addEventListener("click",c),console.log(l());i=a("73ES2");var d="https://image.tmdb.org/t/p/",s="w500",u=document.querySelector('button[data-action="watched"]'),f=document.querySelector('[data-action="empty"]'),v=document.querySelector('[data-action="list-library"]');function m(){try{var e=localStorage.getItem("WatchedMovies");if(e){e=JSON.parse(e);for(var t=0,n=[];t<e.length;)n.push(e.slice(t,20+t)),t+=20;return n}}catch(e){console.log(e)}}u.addEventListener("click",(function(){o.classList.remove("filter__button--active"),u.classList.add("filter__button--active");return function(e){var t=m()[e].map((function(e){var t=e.id,n=e.poster_path,a=e.genre_ids,r=e.title,o=e.release_date,c=(0,i.getGenre)(a),l=o.substring(0,4);c&&l&&(c+=" | "),r||(r="no information");var u=n?d+s+n:NO_IMAGE;return'\n      <li class="film-card">\n         \t<a href="#" class="film-card__link">\n            <img\n              class="film-card__film-img"\n              src="'.concat(u,'"\n              alt="').concat(r,'"\n              id="').concat(t,'"\n            />\n            <h3 class="film-card__film-name">').concat(r,'</h3>\n            <p class="film-card__genre">').concat(c).concat(l,"</p>\n          </a>\n        </li>\n\t\t")})).join("");v.innerHTML=t}(0),void f.classList.add("is-hidden")})),console.log(m()),a("iDjs5");var g=a("4LMMA"),_=(i=a("73ES2"),{gallery:document.querySelector(".js-gallery"),closeBtn:document.querySelector("[data-modal-close]"),activLibraryBtn:document.querySelector(".filter__item>.filter__button--active")});console.log(_.activLibraryBtn.textContent);var p=new(0,i.default);function y(){p.close(),_.closeBtn.removeEventListener("click",y),window.removeEventListener("keydown",L)}function L(e){"Escape"===e.code&&(p.close(),_.closeBtn.removeEventListener("click",y),window.removeEventListener("keydown",L))}_.gallery.addEventListener("click",(function(e){if(e.preventDefault(),"IMG"!==e.target.nodeName)return;var t=(n=e.target.id,("Queue"===_.activLibraryBtn.textContent?g.load("QueueMovies"):g.load("WatchedMovies")).find((function(e){return e.id===Number(n)})));var n;p.modifyDataFilm(t),p.open(),_.closeBtn.addEventListener("click",y),window.addEventListener("keydown",L)})),_.closeBtn.addEventListener("click",y),window.addEventListener("keydown",L),document.addEventListener("click",(function(e){e.preventDefault(),!e.target.closest(".modal")&&e.target.closest(".backdrop")&&y()}))}();
//# sourceMappingURL=library.bda4508c.js.map
